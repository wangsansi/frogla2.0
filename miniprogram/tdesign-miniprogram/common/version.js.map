{"version":3,"sources":["../src/common/version.ts"],"names":[],"mappings":"AAAA,SAAS;AACT,IAAI,UAAwC,CAAC;AAC7C,SAAS,aAAa;IACpB,IAAI,UAAU,IAAI,IAAI,EAAE;QACtB,UAAU,GAAG,EAAE,CAAC,iBAAiB,EAAE,CAAC;KACrC;IACD,OAAO,UAAU,CAAC;AACpB,CAAC;AAED,0FAA0F;AAC1F,SAAS,cAAc,CAAC,EAAE,EAAE,EAAE;IAC5B,EAAE,GAAG,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;IACnB,EAAE,GAAG,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;IACnB,MAAM,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,MAAM,EAAE,EAAE,CAAC,MAAM,CAAC,CAAC;IAE3C,OAAO,EAAE,CAAC,MAAM,GAAG,GAAG,EAAE;QACtB,EAAE,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;KACd;IACD,OAAO,EAAE,CAAC,MAAM,GAAG,GAAG,EAAE;QACtB,EAAE,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;KACd;IAED,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;QAC5B,MAAM,IAAI,GAAG,QAAQ,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;QAC7B,MAAM,IAAI,GAAG,QAAQ,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;QAE7B,IAAI,IAAI,GAAG,IAAI,EAAE;YACf,OAAO,CAAC,CAAC;SACV;aAAM,IAAI,IAAI,GAAG,IAAI,EAAE;YACtB,OAAO,CAAC,CAAC,CAAC;SACX;KACF;IAED,OAAO,CAAC,CAAC;AACX,CAAC;AAED,SAAS,cAAc,CAAC,OAAe;IACrC,MAAM,iBAAiB,GAAG,aAAa,EAAE,CAAC,UAAU,CAAC;IACrD,OAAO,cAAc,CAAC,iBAAiB,EAAE,OAAO,CAAC,IAAI,CAAC,CAAC;AACzD,CAAC;AAED,MAAM,UAAU,sBAAsB;IACpC,MAAM,OAAO,GAAW,QAAQ,CAAC;IACjC,OAAO,cAAc,CAAC,OAAO,CAAC,CAAC;AACjC,CAAC","file":"version.js","sourcesContent":["// 获取系统信息\nlet systemInfo: WechatMiniprogram.SystemInfo;\nfunction getSystemInfo() {\n  if (systemInfo == null) {\n    systemInfo = wx.getSystemInfoSync();\n  }\n  return systemInfo;\n}\n\n// 版本号比较, 参考：https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html\nfunction compareVersion(v1, v2) {\n  v1 = v1.split('.');\n  v2 = v2.split('.');\n  const len = Math.max(v1.length, v2.length);\n\n  while (v1.length < len) {\n    v1.push('0');\n  }\n  while (v2.length < len) {\n    v2.push('0');\n  }\n\n  for (let i = 0; i < len; i++) {\n    const num1 = parseInt(v1[i]);\n    const num2 = parseInt(v2[i]);\n\n    if (num1 > num2) {\n      return 1;\n    } else if (num1 < num2) {\n      return -1;\n    }\n  }\n\n  return 0;\n}\n\nfunction judgeByVersion(version: string) {\n  const currentSDKVersion = getSystemInfo().SDKVersion;\n  return compareVersion(currentSDKVersion, version) >= 0;\n}\n\nexport function canIUseFormFieldButton() {\n  const version: string = '2.10.3';\n  return judgeByVersion(version);\n}\n"]}